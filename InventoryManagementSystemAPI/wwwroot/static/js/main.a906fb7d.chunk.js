(this["webpackJsonpinventory-management-system-web-app"]=this["webpackJsonpinventory-management-system-web-app"]||[]).push([[0],{467:function(e,t,r){},469:function(e,t,r){},470:function(e,t,r){},654:function(e,t,r){"use strict";r.r(t),r.d(t,"history",(function(){return be}));var a=r(0),n=r(18),s=r.n(n),i=(r(467),r(468),r(469),r(470),r(34)),c=r(678),o=r(446),d=r(679),l=r(35),u=r(97),m=r(22),j=r(20),h=function e(t){var r=this;Object(m.a)(this,e),this.baseStore=void 0,this.loading=!0,this.setLoading=function(e){r.loading=e},Object(j.d)(this),this.baseStore=t},b=r(40),x=r.n(b),p=r(87),f=r(70),O=r.n(f);O.a.defaults.baseURL="/api",O.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),O.a.interceptors.response.use(void 0,(function(e){"Network Error"!==e.message||e.response||be.push("/ServerError");var t=e.response,r=t.status,a=t.data,n=t.config,s=t.headers;throw 404===r&&be.push("/NotFound"),401===r&&s["www-authenticate"].includes('Bearer error="invalid_token", error_description="The token expired at')&&(window.localStorage.removeItem("token"),be.push("/login")),400===r&&"get"===n.method&&a.errors.hasOwnProperty("id")&&be.push("/NotFound"),500===r&&be.push("/ServerError"),e}));var g={User:{login:function(e){return O.a.post("account/login",e).then((function(e){return e.data}))},register:function(e){return O.a.post("account/register",e).then((function(e){return e.data}))},registerAdmin:function(e){return O.a.post("account/registerAdmin",e).then((function(e){return e.data}))},currentUser:function(){return O.a.get("account/").then((function(e){return e.data}))},userAtId:function(e){return O.a.get("account/".concat(e)).then((function(e){return e.data}))}},Item:{getItems:function(){return O.a.get("items").then((function(e){return e.data}))},getItem:function(e){return O.a.get("items/".concat(e)).then((function(e){return e.data}))},addItem:function(e){return O.a.post("items",e).then((function(e){return e.data}))},deleteItem:function(e){return O.a.delete("items/".concat(e)).then((function(e){return e.data}))},editItem:function(e){return O.a.put("items/".concat(e.id),e).then((function(e){return e.data}))}}},v=function e(t){var r=this;Object(m.a)(this,e),this.baseStore=void 0,this.selectedItem=null,this.itemsMap=new Map,this.itemsLoading=!0,this.itemLoading=!0,this.setItemsLoading=function(e){r.itemsLoading=e},this.setItemLoading=function(e){r.itemLoading=e},this.getItem=function(){var e=Object(p.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setItemLoading(!0),e.prev=1,e.next=4,g.Item.getItem(Object.values(t)[0]);case 4:a=e.sent,Object(j.g)((function(){a.dateAdded=new Date(a.dateAdded),a.addedBy=a.user.firstName+" "+a.user.lastName,r.selectedItem=a,r.setItemLoading(!1)})),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),r.setItemLoading(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.getItems=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Item.getItems();case 3:t=e.sent,Object(j.g)((function(){t.forEach((function(e){e.dateAdded=new Date(e.dateAdded),e.addedBy=e.user.firstName+" "+e.user.lastName,r.itemsMap.set(e.id,e)}))})),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),r.baseStore.commonStore.setLoading(!1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.addItem=function(){var e=Object(p.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Item.addItem(t);case 3:a=e.sent,Object(j.g)((function(){a.dateAdded=new Date(t.dateAdded),a.addedBy=a.user.firstName+" "+a.user.lastName,r.itemsMap.set(a.id,a)})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.editItem=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Item.editItem(t);case 3:Object(j.g)((function(){r.itemsMap.set(t.id,t),r.selectedItem=t})),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteItem=function(){var e=Object(p.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Item.deleteItem(t);case 3:a=e.sent,Object(j.g)((function(){r.itemsMap.delete(a.id)})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Object(j.d)(this),this.baseStore=t},w=function e(t){var r=this;Object(m.a)(this,e),this.baseStore=void 0,this.user=null,this.selectedUser=null,this.userLoading=!1,this.setUserLoading=function(e){r.userLoading=e},this.login=function(){var e=Object(p.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.User.login(t);case 3:(a=e.sent)&&(Object(j.g)((function(){return r.user=a})),window.localStorage.setItem("token",a.token),be.push("/inventory")),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.register=function(){var e=Object(p.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.user||"True"!==r.user.isAdmin){e.next=9;break}return e.next=4,g.User.registerAdmin(t);case 4:a=e.sent,console.log(a),be.push("/inventory"),e.next=13;break;case 9:return e.next=11,g.User.register(t);case 11:(a=e.sent)&&(Object(j.g)((function(){return r.user=a})),window.localStorage.setItem("token",a.token),be.push("/inventory"));case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),this.getCurrentUser=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.User.currentUser();case 3:t=e.sent,Object(j.g)((function(){r.user=t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getUserAtId=function(){var e=Object(p.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setUserLoading(!0),e.prev=1,e.next=4,g.User.userAtId(Object.values(t)[0]);case 4:a=e.sent,Object(j.g)((function(){r.selectedUser=a,r.setUserLoading(!1)})),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),r.setUserLoading(!1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.removeActiveUser=function(){r.user=null},this.logout=function(){r.user=null,window.localStorage.removeItem("token"),be.push("/login")},Object(j.d)(this),this.baseStore=t},y=function e(t){var r=this;Object(m.a)(this,e),this.baseStore=void 0,this.isShowing=!1,this.isEditShowing=!1,this.setEditShow=function(e){r.isEditShowing=e},this.setShow=function(e){r.isShowing=e},Object(j.d)(this),this.baseStore=t},N=Object(a.createContext)(new function e(){Object(m.a)(this,e),this.userStore=void 0,this.commonStore=void 0,this.itemStore=void 0,this.modalStore=void 0,Object(j.d)(this),this.userStore=new w(this),this.commonStore=new h(this),this.itemStore=new v(this),this.modalStore=new y(this)}),S=r(24),k=r(5),I={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -80%)",maxWidth:"530px",background:"#ffffff",padding:"30px",borderRadius:"10px",boxShadow:"0px 0px 10px 10px rgba(0,0,0,0.15)"},C={float:"left"},A=Object(S.a)((function(){var e=Object(a.useContext)(N).userStore.login;return Object(k.jsx)(i.c,{initialValues:{email:"",password:"",error:null},onSubmit:function(t,r){var a=r.setErrors;return e(t).catch((function(e){return a({error:e})}))},validationSchema:l.c({email:l.d().email("Email not valid").required("Email is required"),password:l.d().required("Password is required")}),children:function(e){var t=e.handleSubmit,r=e.touched,n=e.isSubmitting,s=e.errors,l=e.isValid,m=e.dirty;return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"login-wrapper",style:I,children:[Object(k.jsx)("h2",{children:"Inventory Management System"}),Object(k.jsx)("h3",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Login Page"}),Object(k.jsxs)(i.b,{className:"form-container",onSubmit:t,children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:C,htmlFor:"email",children:"Email"}),Object(k.jsx)(i.a,{type:"text",name:"email",className:"form-control",placeholder:"Email"}),r.email&&s.email&&Object(k.jsx)("span",{className:"help-block text-danger",children:s.email})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:C,htmlFor:"password",children:"Password"}),Object(k.jsx)(i.a,{type:"password",name:"password",className:"form-control",placeholder:"Password"}),r.password&&s.password&&Object(k.jsx)("span",{className:"help-block text-danger",children:s.password})]}),s.error&&Object(k.jsx)(c.a,{variant:"danger",children:"Wrong login or password"}),!n&&Object(k.jsx)(o.a,{disabled:!m||!l,variant:"primary",type:"submit",children:"Login"}),n&&Object(k.jsxs)(o.a,{variant:"primary",disabled:!0,children:[Object(k.jsx)(d.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Login"]}),Object(k.jsx)(u.LinkContainer,{to:"/register",children:Object(k.jsx)(o.a,{className:"ml-2",variant:"danger",children:"Create account"})})]})]})})})}})})),L=r(37),F=r(693),E={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -60%)",maxWidth:"530px",background:"#fff",padding:"30px",borderRadius:"10px",boxShadow:"0px 0px 10px 10px rgba(0,0,0,0.15)"},B={float:"left"},U=Object(S.a)((function(){var e=Object(a.useContext)(N).userStore,t=e.register,r=e.user;return Object(k.jsx)(i.c,{initialValues:{userName:"",firstName:"",lastName:"",email:"",password:"",error:null},onSubmit:function(e,r){var a=r.setStatus,n=(r.setErrors,r.setSubmitting);t(e).catch((function(e){console.log(e.response.data),"errors"in e.response.data&&a({password:e.response.data.errors.Password}),"email"in e.response.data&&a({email:e.response.data.email}),"username"in e.response.data&&a({userName:e.response.data.username}),n(!1)}))},validationSchema:l.c({userName:l.d().required("Username is required"),firstName:l.d().required("First name is required"),lastName:l.d().required("Last name is required"),email:l.d().email("Email not valid").required("Email is required"),password:l.d().matches(/[A-Z]/,"Password must contain at least 1 uppercase character.").matches(/[a-z]/,"Password must contain at least 1 lowercase character.").matches(/[0-9]/,"Password must contain at least 1 number.").matches(/[^a-zA-Z0-9]/,"Password must contain at least 1 non alphanumeric character.").matches(/^(.{6,99})$/,"Password must be have at least 6 characters").required("Password is required")}),children:function(e){e.handleSubmit;var t,n,s=e.setFieldValue,l=e.touched,m=e.isSubmitting,j=e.errors,h=(e.setStatus,e.isValid),b=e.dirty,x=e.status;return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"login-wrapper",style:E,children:[Object(k.jsx)("h2",{children:"Inventory Management System"}),null!==(t=r&&"True"===r.isAdmin&&Object(k.jsx)("h3",{children:"Register Admin Page"}))&&void 0!==t?t:Object(k.jsx)("h3",{children:"Register Page"}),Object(k.jsxs)(i.b,{className:"form-container",children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:B,htmlFor:"userName",children:"Username"}),Object(k.jsx)(i.a,{type:"text",name:"userName",className:"form-control",placeholder:"Username",onChange:function(e){console.log(x);var t=e.target.value;s("userName",t)}}),l.userName&&j.userName&&Object(k.jsx)("span",{className:"help-block text-danger",children:j.userName})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:B,htmlFor:"firstName",children:"First name"}),Object(k.jsx)(i.a,{type:"text",name:"firstName",className:"form-control",placeholder:"First Name"}),l.firstName&&j.firstName&&Object(k.jsx)("span",{className:"help-block text-danger",children:j.firstName})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:B,htmlFor:"lastName",children:"Last name"}),Object(k.jsx)(i.a,{type:"text",name:"lastName",className:"form-control",placeholder:"Last Name"}),l.lastName&&j.lastName&&Object(k.jsx)("span",{className:"help-block text-danger",children:j.lastName})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:B,htmlFor:"email",children:"Email"}),Object(k.jsx)(i.a,{type:"text",name:"email",className:"form-control",placeholder:"Email",onChange:function(e){var t=e.target.value;s("email",t)}}),l.email&&j.email&&Object(k.jsx)("span",{className:"help-block text-danger",children:j.email})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:B,htmlFor:"password",children:"Password"}),Object(k.jsx)(i.a,{type:"password",name:"password",className:"form-control",placeholder:"Password",onChange:function(e){var t=e.target.value;s("password",t)}}),l.password&&j.password&&Object(k.jsx)("span",{className:"help-block text-danger",children:j.password})]}),x&&x.userName&&Object(k.jsx)(c.a,{variant:"danger",children:x.userName}),x&&x.email&&Object(k.jsx)(c.a,{variant:"danger",children:x.email}),x&&x.password&&Object(k.jsx)(c.a,{variant:"danger",children:x.password}),!m&&Object(k.jsx)(o.a,{disabled:!b||!h,variant:"primary",type:"submit",children:"Register"}),m&&Object(k.jsxs)(o.a,{variant:"primary",disabled:!0,children:[Object(k.jsx)(d.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Register"]}),null!==(n=r&&"True"===r.isAdmin&&Object(k.jsx)(u.LinkContainer,{to:"/inventory",children:Object(k.jsx)(o.a,{className:"ml-2",variant:"danger",children:"Go back to inventory"})}))&&void 0!==n?n:Object(k.jsx)(u.LinkContainer,{to:"/login",children:Object(k.jsx)(o.a,{className:"ml-2",variant:"danger",children:"Go back to login"})})]})]})})})}})})),q=r(302),T=r.n(q),P=Object(S.a)((function(e){var t=e.searchData,r=Object(a.useContext)(N).itemStore,n=r.itemsMap,s=r.itemsLoading;return Object(k.jsx)(T.a,{isLoading:s,title:"Inventory",columns:[{title:"Item name",field:"name"},{title:"Barcode",field:"barcode"},{title:"Date added",field:"dateAdded",type:"date"},{title:"Added by",field:"addedBy"}],data:Array.from(n.values()),actions:[{icon:"more_horiz",tooltip:"Show Item Details",onClick:function(e,t){return be.push("/item/".concat(t.id))}},{icon:"account_circle",tooltip:"Show User Details",onClick:function(e,t){return be.push("/account/".concat(t.user.id))}}],options:{searchText:t}})})),D=Object(S.a)((function(e){var t=e.match,r=Object(a.useContext)(N).itemStore,n=r.getItems,s=r.setItemsLoading;return Object(a.useEffect)((function(){s(!0),n().finally((function(){return s(!1)}))}),[n,s]),Object(k.jsx)(P,{searchData:t.params.searchData})})),M=r(696),z=r(698),V=r(694),R=Object(S.a)((function(){var e=Object(a.useContext)(N),t=e.userStore,r=t.user,n=t.logout,s=e.modalStore.setShow;return Object(k.jsxs)(M.a,{bg:"light",expand:"lg",children:[Object(k.jsx)(u.LinkContainer,{to:"/inventory",children:Object(k.jsx)(M.a.Brand,{children:"Inventory Management System"})}),Object(k.jsx)(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(k.jsxs)(M.a.Collapse,{id:"basic-navbar-nav",children:[Object(k.jsxs)(z.a,{className:"mr-auto",children:[Object(k.jsx)(u.LinkContainer,{to:"/inventory",children:Object(k.jsx)(o.a,{variant:"primary",onClick:function(){return s(!0)},children:"Add Item"})}),r&&"True"===r.isAdmin&&Object(k.jsx)(u.LinkContainer,{to:"/register",children:Object(k.jsx)(o.a,{className:"ml-1",variant:"primary",children:"Create admin account"})})]}),Object(k.jsxs)(V.a,{alignRight:!0,title:null===r||void 0===r?void 0:r.firstName,id:"basic-nav-dropdown",children:[Object(k.jsx)(u.LinkContainer,{to:{pathname:"/account",state:{id:null===r||void 0===r?void 0:r.id}},children:Object(k.jsx)(V.a.Item,{children:"Account"})}),Object(k.jsx)(V.a.Divider,{}),Object(k.jsx)(V.a.Item,{onClick:function(){return n()},children:"Logout"})]})]})]})})),W=Object(S.a)((function(){return Object(k.jsxs)("div",{className:"flex-column align-items-center",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(k.jsx)(d.a,{animation:"border",role:"status",children:Object(k.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("strong",{children:"Loading"})})]})})),Y=r(695),_=r(80),J=r(162),$={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -80%)",maxWidth:"530px",background:"#ffffff",padding:"30px",borderRadius:"10px",boxShadow:"0px 0px 10px 10px rgba(0,0,0,0.15)"};_.isMobile&&($={maxWidth:"530px",background:"#ffffff",padding:"30px",borderRadius:"10px",boxShadow:"0px 0px 10px 10px rgba(0,0,0,0.15)"});var G={float:"left"},H=Object(S.a)((function(){var e=Object(a.useContext)(N),t=e.modalStore.setShow,r=e.itemStore.addItem;return l.a(l.b,"validateBarcode",(function(e){return this.test("test-barcode",e,(function(t){var r=this.path,a=this.createError;return Object(J.isValid)(t.toString())||a({path:r,message:e})}))})),Object(k.jsx)(i.c,{initialValues:{name:"",barcode:"",dateAdded:(new Date).toJSON(),error:null},onSubmit:function(e,a){var n=a.setStatus,s=a.setSubmitting;r(e).then((function(){return t(!1)})).catch((function(e){"Barcode"in e.response.data?n({barcode:e.response.data.Barcode}):"Barcode"in e.response.data.errors&&n({barcode:e.response.data.errors.Barcode}),s(!1)}))},validationSchema:l.c({name:l.d().required("Item name is required"),barcode:l.b().test("is-barcode","Invalid barcode",(function(e,t){return void 0===e||!0===Object(J.isValid)(e.toString())})).required("Barcode is required")}),children:function(e){var r=e.setFieldValue,n=e.handleSubmit,s=e.touched,l=e.setStatus,u=(e.setErrors,e.isSubmitting),m=e.errors,j=e.isValid,h=e.dirty,b=e.status;return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"login-wrapper",style:$,children:[Object(k.jsx)("h2",{children:"Add new item"}),Object(k.jsxs)(i.b,{className:"form-container",onSubmit:n,children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:G,htmlFor:"name",children:"Item name"}),Object(k.jsx)(i.a,{type:"text",name:"name",className:"form-control",placeholder:"Item name"}),s.name&&m.name&&Object(k.jsx)("span",{className:"help-block text-danger",children:m.name})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:G,htmlFor:"barcode",children:"Barcode"}),Object(k.jsx)(i.a,{type:"text",name:"barcode",pattern:"\\d*",onChange:function(e){e.preventDefault();var t=e.target.value;/^[0-9]*$/.test(t.toString())&&(r("barcode",t),l({barcode:""}))},className:"form-control",placeholder:"Barcode"}),s.barcode&&m.barcode&&Object(k.jsx)("span",{className:"help-block text-danger",children:m.barcode})]}),b&&b.barcode&&Object(k.jsx)(c.a,{variant:"danger",children:b.barcode}),!u&&Object(k.jsx)(o.a,{disabled:!h||!j,variant:"primary",type:"submit",children:"Add"}),u&&Object(k.jsxs)(o.a,{variant:"primary",disabled:!0,children:[Object(k.jsx)(d.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Submit"]}),Object(k.jsx)(o.a,{onClick:function(){return t(!1)},className:"ml-2",variant:"danger",children:"Cancel"})]})]})})})}})})),Z=Object(S.a)((function(){var e=Object(a.useContext)(N).modalStore,t=e.isShowing,r=e.setShow;return Object(k.jsx)(Y.a,{dialogAs:H,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:t,onHide:function(){return r(!1)},children:Object(k.jsx)(Y.a.Dialog,{size:"lg"})})})),K=r(690),Q=r(691),X=r(692),ee=Object(S.a)((function(){var e=Object(a.useContext)(N).userStore.user;return Object(k.jsx)(a.Fragment,{children:e&&Object(k.jsx)("div",{className:"container d-flex justify-content-center",children:Object(k.jsx)(K.a,{style:{width:"55vh"},className:"p-5 w-75",children:Object(k.jsxs)(Q.a,{children:[Object(k.jsx)(X.a,{xs:7,md:5,children:!_.isMobile&&Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(k.jsx)(o.a,{style:{width:"50%",height:"50%",margin:"0",position:"absolute",top:"50%",transform:"translateY(-50%)",msTransform:"translateY(-50%)"},onClick:function(){return be.push("/inventory/".concat(e.firstName+" "+e.lastName))},variant:"outline-primary",children:"Search for items added by user"})})}),Object(k.jsx)(X.a,{children:Object(k.jsx)("div",{className:"align-items-center",children:Object(k.jsxs)("div",{className:"ml-3 w-100",children:[Object(k.jsxs)("h4",{className:"mb-0 mt-0",children:[e.firstName," ",e.lastName]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Email: ",e.email]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Role:","True"===e.isAdmin&&" Administrator","False"===e.isAdmin&&" User"]}),Object(k.jsx)("hr",{}),_.isMobile&&Object(k.jsx)(o.a,{onClick:function(){return be.push("/inventory/".concat(e.firstName+" "+e.lastName))},variant:"outline-primary",children:"Search for items added by user"})]})})})]})})})})})),te=Object(S.a)((function(e){var t=Object(a.useContext)(N).userStore,r=t.getUserAtId,n=t.selectedUser,s=t.userLoading;Object(a.useEffect)((function(){try{r(e)}catch(t){console.log(t)}}),[r,e]);return s?Object(k.jsx)(W,{}):Object(k.jsx)(a.Fragment,{children:n&&Object(k.jsx)("div",{className:"container d-flex justify-content-center",children:Object(k.jsx)(K.a,{style:{width:"55vh"},className:"p-5 w-75",children:Object(k.jsxs)(Q.a,{children:[Object(k.jsx)(X.a,{xs:7,md:5,children:!_.isMobile&&Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(k.jsx)(o.a,{style:{width:"50%",height:"50%",margin:"0",position:"absolute",top:"50%",transform:"translateY(-50%)",msTransform:"translateY(-50%)"},onClick:function(){return be.push("/inventory/".concat(n.firstName+" "+n.lastName))},variant:"outline-primary",children:"Search for items added by user"})})}),Object(k.jsx)(X.a,{xs:6,md:5,children:Object(k.jsx)("div",{className:"align-items-center",children:Object(k.jsxs)("div",{className:"ml-3 w-100",children:[Object(k.jsxs)("h4",{className:"mb-0 mt-0",children:[n.firstName," ",n.lastName]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Email: ",n.email]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Role:","True"===n.isAdmin&&" Administrator","False"===n.isAdmin&&" User"]}),Object(k.jsx)("hr",{}),_.isMobile&&Object(k.jsx)(o.a,{onClick:function(){return be.push("/inventory/".concat(n.firstName+" "+n.lastName))},variant:"outline-primary",children:"Search for items added by user"})]})})})]})})})})})),re=Object(S.a)((function(){return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(k.jsx)("h1",{style:{fontSize:"10rem"},className:"mr-3 pr-3 text-center align-top inline-block align-content-center",children:"404"})}),Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(k.jsx)("h2",{style:{fontSize:"2rem"},className:"text-center font-weight-normal lead",id:"desc",children:"The page you requested was not found."})})]})})),ae=Object(S.a)((function(){return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(k.jsx)("h1",{style:{fontSize:"10rem"},className:"mr-3 pr-3 text-center align-top inline-block align-content-center",children:"500"})}),Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(k.jsx)("h2",{style:{fontSize:"2rem"},className:"text-center font-weight-normal lead",id:"desc",children:"There was an internal server error. Please try again later."})})]})})),ne=r(699),se=r(129),ie=Object(S.a)((function(e){var t=Object(a.useContext)(N),r=t.itemStore,n=r.getItem,s=r.deleteItem,i=r.selectedItem,c=r.itemLoading,d=t.userStore.user,l=t.modalStore.setEditShow;Object(a.useEffect)((function(){try{n(e)}catch(t){console.log(t)}}),[n,e]);return c?Object(k.jsx)(W,{}):Object(k.jsx)(a.Fragment,{children:i&&Object(k.jsx)("div",{className:"container d-flex justify-content-center ",children:Object(k.jsx)(ne.a,{style:{width:"55vh"},className:"p-5 w-75 text-center",children:Object(k.jsx)(Q.a,{children:Object(k.jsx)(X.a,{children:Object(k.jsx)("div",{className:"align-items-center",children:Object(k.jsxs)("div",{className:"ml-3 w-100",children:[Object(k.jsxs)("h4",{className:"mb-0 mt-0",children:["Item name: ",i.name]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Barcode: ",i.barcode]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Added on:"," ",i.dateAdded.toLocaleDateString()+" "+i.dateAdded.toLocaleTimeString()]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{children:["Added by:"," ",Object(k.jsx)(se.Link,{to:"/account/".concat(i.user.id),children:i.addedBy})]}),Object(k.jsx)("hr",{}),(i.user.id===d.id||"True"===d.isAdmin)&&Object(k.jsxs)("div",{children:[Object(k.jsx)(o.a,{onClick:function(){return l(!0)},variant:"primary",children:"Edit"}),Object(k.jsx)(o.a,{style:{margin:"0 0 0 2vh"},onClick:function(){s(i.id),be.push("/inventory")},variant:"danger",children:"Delete"})]})]})})})})})})})})),ce={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -80%)",maxWidth:"530px",background:"#ffffff",padding:"30px",borderRadius:"10px",boxShadow:"0px 0px 10px 10px rgba(0,0,0,0.15)"};_.isMobile&&(ce={maxWidth:"530px",background:"#ffffff",padding:"30px",borderRadius:"10px",boxShadow:"0px 0px 10px 10px rgba(0,0,0,0.15)"});var oe={float:"left"},de=Object(S.a)((function(){var e=Object(a.useContext)(N),t=e.modalStore.setEditShow,r=e.itemStore,n=r.editItem,s=r.selectedItem;return l.a(l.b,"validateBarcode",(function(e){return this.test("test-barcode",e,(function(t){var r=this.path,a=this.createError;return Object(J.isValid)(t.toString())||a({path:r,message:e})}))})),Object(k.jsx)(i.c,{initialValues:{id:s.id,name:s.name,barcode:s.barcode,dateAdded:s.dateAdded,addedBy:s.addedBy,user:s.user,error:null},onSubmit:function(e,r){var a=r.setStatus,s=r.setSubmitting;n(e).then((function(){return t(!1)})).catch((function(e){"Barcode"in e.response.data?a({barcode:e.response.data.Barcode}):"Barcode"in e.response.data.errors&&a({barcode:e.response.data.errors.Barcode}),s(!1)}))},validationSchema:l.c({name:l.d().required("Item name is required"),barcode:l.b().test("is-barcode","Invalid barcode",(function(e,t){return void 0===e||!0===Object(J.isValid)(e.toString())})).required("Barcode is required")}),children:function(e){var r=e.setFieldValue,n=e.handleSubmit,s=e.touched,l=e.setStatus,u=(e.setErrors,e.isSubmitting),m=e.errors,j=e.isValid,h=e.dirty,b=e.status;return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"login-wrapper",style:ce,children:[Object(k.jsx)("h2",{children:"Edit item"}),Object(k.jsxs)(i.b,{className:"form-container",onSubmit:n,children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:oe,htmlFor:"name",children:"Item name"}),Object(k.jsx)(i.a,{type:"text",name:"name",className:"form-control",placeholder:"Item name"}),s.name&&m.name&&Object(k.jsx)("span",{className:"help-block text-danger",children:m.name})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{style:oe,htmlFor:"barcode",children:"Barcode"}),Object(k.jsx)(i.a,{type:"text",name:"barcode",pattern:"\\d*",onChange:function(e){e.preventDefault();var t=e.target.value;/^[0-9]*$/.test(t.toString())&&(r("barcode",t),l({barcode:""}))},className:"form-control",placeholder:"Barcode"}),s.barcode&&m.barcode&&Object(k.jsx)("span",{className:"help-block text-danger",children:m.barcode})]}),b&&b.barcode&&Object(k.jsx)(c.a,{variant:"danger",children:b.barcode}),!u&&Object(k.jsx)(o.a,{disabled:!h||!j,variant:"primary",type:"submit",children:"Add"}),u&&Object(k.jsxs)(o.a,{variant:"primary",disabled:!0,children:[Object(k.jsx)(d.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Submit"]}),Object(k.jsx)(o.a,{onClick:function(){return t(!1)},className:"ml-2",variant:"danger",children:"Cancel"})]})]})})})}})})),le=Object(S.a)((function(){var e=Object(a.useContext)(N).modalStore,t=e.isEditShowing,r=e.setEditShow;return Object(k.jsx)(Y.a,{dialogAs:de,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:t,onHide:function(){return r(!1)},children:Object(k.jsx)(Y.a.Dialog,{size:"lg"})})})),ue=Object(L.o)(Object(S.a)((function(e){var t=e.location,r=Object(a.useContext)(N),n=r.userStore,s=n.getCurrentUser,i=n.user,c=r.commonStore,o=c.setLoading,d=c.loading;return Object(a.useEffect)((function(){o(!0),window.localStorage.getItem("token")?s().finally((function(){return o(!1)})):o(!1)}),[s,o]),_.isMobile?Object(k.jsx)(a.Fragment,{children:"Use our app to use our website on mobile"}):d?Object(k.jsx)(W,{}):i&&window.localStorage.getItem("token")?Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(Z,{}),Object(k.jsx)(le,{}),Object(k.jsx)(L.d,{exact:!0,path:"/",children:Object(k.jsx)(L.c,{to:"/inventory"})}),Object(k.jsx)(L.d,{path:"/(.+)",render:function(){return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(R,{}),Object(k.jsx)(F.a,{style:{marginTop:"7em"},children:Object(k.jsxs)(L.g,{children:[i.isAdmin&&"True"===i.isAdmin&&Object(k.jsx)(L.d,{exact:!0,path:"/register",component:U}),Object(k.jsx)(L.d,{exact:!0,path:"/inventory/:searchData?",component:D},t.key),Object(k.jsx)(L.d,{exact:!0,path:"/item/:id",component:function(e){return Object(k.jsx)(ie,{id:e.match.params.id})}}),Object(k.jsx)(L.d,{exact:!0,path:"/account/:id",component:function(e){return Object(k.jsx)(te,{id:e.match.params.id})}}),Object(k.jsx)(L.d,{exact:!0,path:"/account",component:ee}),Object(k.jsx)(L.d,{exact:!0,path:"/ServerError",component:ae}),Object(k.jsx)(L.d,{component:re})]})})]})}})]}):Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(L.d,{exact:!0,path:"/",component:A}),Object(k.jsx)(L.d,{path:"/(.+)",render:function(){return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(F.a,{style:{marginTop:"7em"},children:Object(k.jsxs)(L.g,{children:[Object(k.jsx)(L.d,{path:"/login",component:A}),Object(k.jsx)(L.d,{path:"/register",component:U}),Object(k.jsx)(L.d,{exact:!0,path:"/ServerError",component:ae}),Object(k.jsx)(L.d,{component:A})]})})})}})]})}))),me=function(e){e&&e instanceof Function&&r.e(6).then(r.bind(null,1073)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),s(e),i(e)}))},je=r(68);function he(){var e=Object(L.l)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var be=Object(je.a)();s.a.render(Object(k.jsxs)(L.e,{history:be,children:[Object(k.jsx)(he,{}),Object(k.jsx)(ue,{})]}),document.getElementById("root")),me()}},[[654,1,2]]]);
//# sourceMappingURL=main.a906fb7d.chunk.js.map